
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Geek Woodworker</title>
  <meta name="author" content="靖天">
  <meta name="Generator" content="Jekyll & Octopress (http://octopress.org)">

  
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://ifq.github.com/blog/page/26/">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/octopress.min.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="Geek Woodworker" type="application/atom+xml">
  

<!--Fonts from Google's Web font directory at http://google.com/webfonts -->
<link href='http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic' rel='stylesheet' type='text/css'>
<!-- 9jBDGwX2G-7pQ39zs-wElUxm5Tg -->
<meta name="alexaVerifyID" content="9jBDGwX2G-7pQ39zs-wElUxm5Tg" />

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-33860711-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


   
  <link href="/octopress-favicon.png" rel="icon">
</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Geek Woodworker</a></h1>
  
    <h2>一个热爱木工的软件工程师</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:ifq.github.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main">
	<li><a href="/">主页</a></li>
	<li><a href="/archives">所有文章</a></li>
	<li><a href="/blog/categories">类别</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
    










    <article >
      
  <header>
    <h1 class="entry-title">

<a href="/blog/2007/03/17/1/">日志</a>

</h1>

    
      <p class="meta">
        








  


<time datetime="2007-03-17T00:00:00+08:00" pubdate data-updated="true">Mar 17<span>th</span>, 2007</time>
         &bull; <a rel="bookmark" href="/blog/2007/03/17/1/">Permalink</a>
      </p>
    
  </header>

<div class="entry-content"><div>好久没有更新了~ 一直在集训日语,宿舍没有网,连杀毒软件都不能更新,今天休息回学校了~<br>
可以休息一下了</div></div>

  <footer>
    
    <p><a class="comments-link" href="/blog/2007/03/17/1/#disqus_thread" data-disqus-identifier="http://ifq.github.com/blog/2007/03/17/1/">View comments &raquo;</a></p>
    
    
    
  </footer>


    </article>
  
    










    <article >
      
  <header>
    <h1 class="entry-title">

<a href="/blog/2007/03/07/1/">广告啊~谁要Mini SD卡啊?谁要Sony 512记忆棒啊?便宜卖拉~</a>

</h1>

    
      <p class="meta">
        








  


<time datetime="2007-03-07T00:00:00+08:00" pubdate data-updated="true">Mar 7<span>th</span>, 2007</time>
         &bull; <a rel="bookmark" href="/blog/2007/03/07/1/">Permalink</a>
      </p>
    
  </header>

<div class="entry-content"><div>广告啊~谁要Mini SD卡啊?谁要Sony 512记忆棒啊?便宜卖拉~<br>
SD卡是手机用了半年的,记忆棒是相机的基本没有用过~<br>
有需要的同志请留言哈~<br>
最好是成都的~<br>
完毕~</div></div>

  <footer>
    
    <p><a class="comments-link" href="/blog/2007/03/07/1/#disqus_thread" data-disqus-identifier="http://ifq.github.com/blog/2007/03/07/1/">View comments &raquo;</a></p>
    
    
    
  </footer>


    </article>
  
    










    <article >
      
  <header>
    <h1 class="entry-title">

<a href="/blog/2007/03/06/2/">今天回到学校了~</a>

</h1>

    
      <p class="meta">
        








  


<time datetime="2007-03-06T00:00:00+08:00" pubdate data-updated="true">Mar 6<span>th</span>, 2007</time>
         &bull; <a rel="bookmark" href="/blog/2007/03/06/2/">Permalink</a>
      </p>
    
  </header>

<div class="entry-content"><div>今天回到学校了~<br>
<font size="5" color="#ffff00" style="background-color: rgb(255, 0, 0);">好好学习,天天向上!</font></div></div>

  <footer>
    
    <p><a class="comments-link" href="/blog/2007/03/06/2/#disqus_thread" data-disqus-identifier="http://ifq.github.com/blog/2007/03/06/2/">View comments &raquo;</a></p>
    
    
    
  </footer>


    </article>
  
    










    <article >
      
  <header>
    <h1 class="entry-title">

<a href="/blog/2007/03/06/1/">开源的力量!开源可乐.</a>

</h1>

    
      <p class="meta">
        








  


<time datetime="2007-03-06T00:00:00+08:00" pubdate data-updated="true">Mar 6<span>th</span>, 2007</time>
         &bull; <a rel="bookmark" href="/blog/2007/03/06/1/">Permalink</a>
      </p>
    
  </header>

<div class="entry-content"><div><div align="center" forimg="1"><img class="" src="/rc/legacy/063440a9df9e37fe1f17a249.jpg" width="800"></div>
这是一瓶OpenCola,字面意思就是开放可乐.根据瓶子上的网址去访问,你会发现这是一瓶开源可乐哈.这种可乐的制造工艺和配方是遵照GNU GPL发布的.任何人都可以自己制作这种可乐,也可以修改或改进可乐的配方和制造工艺哈.<br>
和可惜发布这种可乐的公司已经关闭了,不过我们依然可以<a href="http://kevin.hatfieldfamilysite.com/files/OpenCola_soft_drink_recipe.pdf" target="_blank">下载</a>它的配方.不过我是没有条件来制作哈.<br>
看他的配方是在2001年的时候发布的,不知道有没有可乐厂商真的借鉴这种配方呢&#8230;</div></div>

  <footer>
    
    <p><a class="comments-link" href="/blog/2007/03/06/1/#disqus_thread" data-disqus-identifier="http://ifq.github.com/blog/2007/03/06/1/">View comments &raquo;</a></p>
    
    
    
  </footer>


    </article>
  
    










    <article >
      
  <header>
    <h1 class="entry-title">

<a href="/blog/2007/02/27/1/">一段通用的混乱代码</a>

</h1>

    
      <p class="meta">
        








  


<time datetime="2007-02-27T00:00:00+08:00" pubdate data-updated="true">Feb 27<span>th</span>, 2007</time>
         &bull; <a rel="bookmark" href="/blog/2007/02/27/1/">Permalink</a>
      </p>
    
  </header>

<div class="entry-content"><div><pre><code>一下这段代码可以在多种语言的编译器下编译通过,并在不同的编译器下显示出各部相同的字符串.<br></code> 有这几个语言:C, C++, Perl, TeX, LaTeX, PostScript, sh, bash, zsh and Prolog<br><br>我没有验证,也没办法验证哈.我没有那么多的编译器,如果谁有兴趣又无聊可以验证下哈.<br><code><br>&nbsp;&nbsp;&nbsp;&nbsp; %:/*:if 0;"true" +s ||true&lt;&lt;/;#|+q|*/include&lt;stdio.h&gt;/*\_/<br>&nbsp;&nbsp;&nbsp;&nbsp; {\if(%)}newpath/Times-Roman findfont 20 scalefont setfont(<br>&nbsp;&nbsp;&nbsp;&nbsp; %%)pop 72 72 moveto(Just another PostScript hacker,)show((<br>&nbsp;&nbsp;&nbsp;&nbsp; t)}. t:-write('Just another Prolog hacker,'),nl,halt. :-t.<br>&nbsp;&nbsp;&nbsp;&nbsp; :-initialization(t). end_of_file. %)pop pop showpage(-: */<br>&nbsp;&nbsp;&nbsp;&nbsp; int main(){return 0&amp;printf("Just another C%s hacker,\n",1%<br>&nbsp;&nbsp;&nbsp;&nbsp; sizeof'2'*2+"++");}/*\fi}\csname @gobble\endcsname{\egroup<br>&nbsp;&nbsp;&nbsp;&nbsp; \let\LaTeX\TeX\ifx}\if00\documentclass{article}\begin{doc%<br>&nbsp;&nbsp;&nbsp;&nbsp; ument}\fi Just another \LaTeX\ hacker,\end{document}|if 0;<br>&nbsp;&nbsp;&nbsp;&nbsp; /(J.*)\$sh(.*)"/,print"$1Perl$2$/"if$_.=q # hack the lang!<br>&nbsp;&nbsp;&nbsp;&nbsp; /<br>&nbsp;&nbsp;&nbsp;&nbsp; sh=sh;test $BASH_VERSION &amp;&amp;sh=bash;test $POSIXLY_CORRECT&amp;&amp;<br>&nbsp;&nbsp;&nbsp;&nbsp; sh=sh;test&nbsp;&nbsp; $ZSH_VERSION &amp;&amp; sh=zsh;awk 'BEGIN{x="%c[A%c[K"<br>&nbsp;&nbsp;&nbsp;&nbsp; printf(x,27,27)}';echo "Just another $sh hacker," #)pop%*/</code></pre></div></div>

  <footer>
    
    <p><a class="comments-link" href="/blog/2007/02/27/1/#disqus_thread" data-disqus-identifier="http://ifq.github.com/blog/2007/02/27/1/">View comments &raquo;</a></p>
    
    
    
  </footer>


    </article>
  
    










    <article >
      
  <header>
    <h1 class="entry-title">

<a href="/blog/2007/02/17/1/">新年快乐!!!</a>

</h1>

    
      <p class="meta">
        








  


<time datetime="2007-02-17T00:00:00+08:00" pubdate data-updated="true">Feb 17<span>th</span>, 2007</time>
         &bull; <a rel="bookmark" href="/blog/2007/02/17/1/">Permalink</a>
      </p>
    
  </header>

<div class="entry-content"><div><font size="5"><strong><font color="#ffff00"><span style="background-color: rgb(255, 0, 0);">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 乐&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; &nbsp; &nbsp;&nbsp;  <br>
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 快&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; &nbsp; &nbsp;  <br>
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 年&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;  <br>
&nbsp;&nbsp;&nbsp; 乐快年新年快乐&nbsp;&nbsp;  <br>
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 年&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; &nbsp; &nbsp;  <br>
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 快&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; &nbsp; &nbsp;  <br>
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 乐&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br>
</span></font></strong></font></div></div>

  <footer>
    
    <p><a class="comments-link" href="/blog/2007/02/17/1/#disqus_thread" data-disqus-identifier="http://ifq.github.com/blog/2007/02/17/1/">View comments &raquo;</a></p>
    
    
    
  </footer>


    </article>
  
    










    <article >
      
  <header>
    <h1 class="entry-title">

<a href="/blog/2007/02/16/1/">全球首台商用量子计算机登场亮相</a>

</h1>

    
      <p class="meta">
        








  


<time datetime="2007-02-16T00:00:00+08:00" pubdate data-updated="true">Feb 16<span>th</span>, 2007</time>
         &bull; <a rel="bookmark" href="/blog/2007/02/16/1/">Permalink</a>
      </p>
    
  </header>

<div class="entry-content"><div><p>加拿大公司D-Wave Systems今天揭开了&ldquo;全球第一台商用实用型量子计算机&rdquo;的神秘面纱，展示了这台新型计算机&ldquo;Orion&rdquo;如何运行商用程序，及其在解决特定问题上相比传统电子计算机的巨大优势。</p>
<p align="center">
<div align="center" forimg="1"><img class="" src="/rc/legacy/3357ccfcf192e280b901a09e.jpg" width="800"></div>
<br>
</p>
<p align="center">承载16个量子位的硅芯片</p>
<p>演示是在美国加州山景城的计算机历史博物馆里进行的，不过量子计算机本身并不在现场，而是在D-Wave公司总部，加拿大温哥华本那比 (Burnaby)。在那里，量子计算机被液氮冷冻在5mK(毫开)温度下，也就是-273.145℃，只比绝对温度-273.15℃高0.005℃，比 星际空间还要冷。</p>
<p align="center">
<div align="center" forimg="1"><img class="" src="/rc/legacy/6cb552da464d51d9b6fd489e.jpg" width="800"></div>
<br>
</p>
<div align="center">负责为硅芯片制冷的超低温设备&ldquo;Leiden Cryogenics&rdquo;</div>
<p>量子计算机依赖的自然是量子机制来加速计算的，而这种机制决定了所有物质和能量的行为表现。人们早就知道，即使能利用量子机制的一些简单特性，所构 造的计算机就能远远超出任何超级电子计算机的表现，不过D-Wave表示，他们的&ldquo;Orion&rdquo;只是现有电子计算机的补充和增强，并非要取而代之。这也就 是说，量子计算机还远没有成熟到可以独立&ldquo;统治世界&rdquo;的地步。</p>
<p>为了实现量子计算机的商用，D-Wave在基础构造和生产工艺上借鉴了现有半导体产业的成果。&ldquo;Orion&rdquo;基于一块硅芯片，包含16个量子位 (qubit)，可以同时表示0和1两个二元位(电子计算里不是0就是1)，而每一个量子位都能模拟其他量子位的值，从而提高计算能力。D-Wave称， 这一系统可以在今后加入更多的量子位，计划在今年底达到32个，明年底增至1024个，计算能力则会呈指数级增长。</p>
<p align="center">
<div align="center" forimg="1"><img class="" src="/rc/legacy/d3a8f1d342ab79dda9ec9a9f.jpg" width="800"></div>
<br>
</p>
<div align="center">硅芯片上16个量子位的光学照片</div>
<p>&ldquo;Orion&rdquo;的拿手好戏就是需要处理海量复杂数据和变量的问题，比如生命科学、生物测定学、后勤学、变量数据库搜索、计量金融等等科学和商业领域。</p>
<p>D- Wave在此之前举了NP空间里最困难的&ldquo;NP-Complete&rdquo;问题的例子，这里我们看看另一个。如果使用电子计算机处理药物分子的&ldquo;薛定谔方程&rdquo;， 那么每增加一个电子，问题难度就要翻一番还多，这就是所谓的指数级爆炸式增长，导致电子计算机最多只能处理含有30个电子的系统，而一个简单的咖啡因分子 就有100多个电子，其问题难度是30个电子系统的大约10^50倍，任何超级计算机都无法胜任。量子计算机则简单多了，因为它处理薛定谔方程时的难度增 加只是线性的固定速度，因此最原始的量子计算机也要比最快的超级电子计算机(蓝色基因/L)出色得多。</p>
<p>一如展示中的情形，D-Wave将通过一个安全的互联网连接提供量子计算机的对外访问和使用，最终开始销售这种系统，不过具体时间和价格问题没有披露。</p></div></div>

  <footer>
    
    <p><a class="comments-link" href="/blog/2007/02/16/1/#disqus_thread" data-disqus-identifier="http://ifq.github.com/blog/2007/02/16/1/">View comments &raquo;</a></p>
    
    
    
  </footer>


    </article>
  
    










    <article >
      
  <header>
    <h1 class="entry-title">

<a href="/blog/2007/02/14/1/">如何取消对移动硬盘的自动播放</a>

</h1>

    
      <p class="meta">
        








  


<time datetime="2007-02-14T00:00:00+08:00" pubdate data-updated="true">Feb 14<span>th</span>, 2007</time>
         &bull; <a rel="bookmark" href="/blog/2007/02/14/1/">Permalink</a>
      </p>
    
  </header>

<div class="entry-content"><div><font color="#0000ff"><font color="#000000">刚买了个大的移动硬盘,每次连上都要搜索并自动运行,很烦人.下面是方法把它改掉.<br>
<br>
</font>在WindowsXP系统下如果你插入移动设备，如U盘，移动硬盘等会自动在上边搜索媒体文件，并进行播放。如果你想一次全部禁用WindowsXP的自动播放功能，那么请按下述步骤操作：1、单击&ldquo;开始&rarr;运行&rdquo;，在&ldquo;打开&rdquo;框中，键入 &ldquo;gpedit.msc&rdquo;，单击&ldquo;确定&rdquo;按钮，打开&ldquo;组策略&rdquo;窗口；2、在左窗格的&ldquo;本地计算机策略&rdquo;下，展开&ldquo;计算机配置&rarr;管理模板&rarr;系统&rdquo;，然后在右窗格的&ldquo;设置&rdquo;标题下，双击&ldquo;关闭自动播放&rdquo;；3、单击&ldquo;设置&rdquo;选项卡，选中&ldquo;已启用&rdquo;复选钮，然后在&ldquo;关闭自动播放&rdquo;框中单击&ldquo;所有驱动器&rdquo;，单击&ldquo;确定&rdquo;按钮，最后关闭&ldquo;组策略&rdquo;窗口。在&ldquo;用户配置&rdquo;中同样也存在这个&ldquo;关闭自动播放&rdquo;设置。但&ldquo;计算机配置&rdquo;中的设置比&ldquo;用户配置&rdquo;中的设置优先。需要注意的是：&ldquo;关闭自动播放&rdquo;设置并不能够阻止自动播放音乐CD盘。要阻止音乐CD的自动播放，你就只有使用&ldquo;属性设置法&rdquo;了。另外，你检查一下该移动硬盘上是否存在autorun.inf或desktop.ini隐藏文件，将其删除也可以解决部分问题。</font></div></div>

  <footer>
    
    <p><a class="comments-link" href="/blog/2007/02/14/1/#disqus_thread" data-disqus-identifier="http://ifq.github.com/blog/2007/02/14/1/">View comments &raquo;</a></p>
    
    
    
  </footer>


    </article>
  
    










    <article >
      
  <header>
    <h1 class="entry-title">

<a href="/blog/2007/02/13/1/">如何创建蓝牙虚拟串口</a>

</h1>

    
      <p class="meta">
        








  


<time datetime="2007-02-13T00:00:00+08:00" pubdate data-updated="true">Feb 13<span>th</span>, 2007</time>
         &bull; <a rel="bookmark" href="/blog/2007/02/13/1/">Permalink</a>
      </p>
    
  </header>

<div class="entry-content"><div>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;  WINCE为我们提供了便利的函数来建立蓝牙连接,其中就包括建立蓝牙的虚拟串口连接.利用虚拟串口连接,我们可以方便的把以前利用串口连接传输数据的程序改为蓝牙无线传输的程序.这个过程只需要一个步骤,就是在服务端和客户端注册虚拟串口.<br>
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;  <strong><font color="#ff6600">RegisterDevice这个函数就完成了这个功能.</font></strong><font color="#ff6600"><font color="#000000">通过这个函数建立了串口之后,就可以像操控以往的串口一样用CreateFile,read,write这些系统API来读写.<br>
<br>
以下的内容摘自MSDN:<br>
<br>
</font></font>You can create a connection between two Bluetooth devices by using the Microsoft Windows CE COM Port emulator facility. The COM Port emulator is the top most layer of the Bluetooth Protocol Stack and provides access to RFCOMM based on a virtual COM port. It does not expose stack interfaces but provides an API layer for opening connections to remote Bluetooth devices.<br>
<br>
<font color="#0000ff">When this layer is present in the Bluetooth stack</font><strong><font color="#0000ff">, </font></strong><font color="#0000ff">a virtual server or client COM port can be created to accept incoming or create outgoing RFCOMM connections.</font><br>
<br>
Before you create a connection between two Bluetooth devices, you must have the following information: <br>
<br>
<font color="#ff0000">1</font> &nbsp;&nbsp;&nbsp; Address of the Bluetooth device to connect to, stored as a BT_ADDR type (for client ports). <br>
<font color="#ff0000">2</font> &nbsp;&nbsp;&nbsp; RFCOMM channel number (between 1 and 31). <br>
<font color="#ff0000">3</font>&nbsp;&nbsp;&nbsp;&nbsp; COM port number (between 0 and 9) to be assigned for Bluetooth operations. <br>
<br>
The Com test sample that ships with Windows CE, contains source code for creating a Bluetooth connection by using a COM port. For more information about this sample, see Virtual COM Port Creation Sample.<br>
<br>
<strong>To create a virtual COM port </strong><br>
<br>
Configure the PORTEMUPortParams structure to specify attributes for the virtual COM port. This structure stores Bluetooth specific information, such as the channel and Bluetooth address information. <br>
<strong><font color="#0000ff">For a server port</font></strong>, set PORTEMUPortParams members, as the following example shows. <br>
<br>
<font color="#ff6600">PORTEMUPortParams pp;<br>
memset (&amp;pp, 0, sizeof(pp));<br>
pp.flocal = TRUE;<br>
pp.channel = channel &amp; 0xff;</font><br>
<font color="#ff0000">The preceding example configures PORTEMUPortParams by setting <strong>flocal </strong>to TRUE. This enables a server COM port to accept incoming connections.</font> The server channel is specified explicitly by setting channel. <br>
<br>
Note&nbsp;&nbsp; To avoid conflicts, when you are selecting the server channel, it is recommended that you set channel to RFCOMM_CHANNEL_MULTIPLE (0xfe). This configures RFCOMM to use the next available channel.<br>
<strong><font color="#0000ff">For a client port</font></strong>, set the device, channel, and the uiportflags members of PORTEMUPortParams. <br>
<br>
The following example code shows how to set PORTEMUPortParams for a client port. <br>
<br>
<font color="#ff6600">PORTEMUPortParams pp;<br>
memset (&amp;pp, 0, sizeof(pp));<br>
pp.device = ba;<br>
pp.channel = channel &amp; 0xff;<br>
pp.uiportflags = RFCOMM_PORT_FLAGS_REMOTE_DCB;</font><br>
I<font color="#ff0000">n the preceding example, <strong>device </strong>is set to a BT_ADDR type that stores the remote device address and <strong>uiportflags </strong>is set to RFCOMM_PORT_FLAGS_REMOTE_DCB to initiate a remote connection over the RFCOMM layer. </font><br>
<br>
If the server channel is not known then the client can specify the UUID of the server in the uuidService member. In this case, an SDP query is performed automatically to retrieve the target channel number. <br>
<br>
Register the device by calling the RegisterDevice function, as the following example shows. <br>
<strong><font color="#ff6600">HANDLE h = RegisterDevice (L&quot;COM&quot;, index, L&quot;btd.dll&quot;, (DWORD)&amp;pp);</font></strong><br>
The preceding example specifies the port type as COM, port number, and the name of the device driver DLL, as parameters to RegisterDevice. Also, pass the address of PORTEMUPortParams structure, created in step 1, in the dwInfo parameter. RegisterDevice registers the Bluetooth Protocol stack with the virtual COM port. <br>
<br>
Create a null-terminated string to store the name of the COM port. You must include a colon after the port name, as the following example shows. <br>
<font color="#ff6600">WCHAR szComPort[30];<br>
wsprintf (szComPort, L&quot;COM%d:&quot;, index);<br>
<font color="#000000">Open the COM port by calling the CreateFile function. </font><br>
HANDLE hCommPort = CreateFile (szComPort, GENERIC_READ | GENERIC_WRITE,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0, NULL, OPEN_EXISTING, 0, NULL);</font><br>
To specify the port name, pass the string created in step 3, in the lpFileName parameter of CreateFile. <br>
<br>
<font color="#0000ff"><strong>For client ports</strong></font>, the physical connection is created only when the device is open with read or write access by using CreateFile. The physical connection is terminated for both server and client ports when the first handle with read or write access is closed. <br>
<br>
Up to four open handles can be outstanding for each virtual port created. Every handle maintains its own set of communication event masks. If a file is open with a 0 access mask, it can only be used for WaitCommEvent, but not with ReadFile and WriteFile APIs. <br>
<br>
<strong>Once the COM port is created, it is a functional equivalent of a serial port. The same APIs can be used to access it.</strong><br>
<br>
To remove an existing virtual COM port <br>
<br>
Call the CloseHandle function and pass the handle returned by CreateFile, as the following example code shows. <br>
<strong><font color="#ff6600">CloseHandle (hCommPort);</font></strong><br>
To deregister the device, call the DeregisterDevice function and pass the handle returned by RegisterDevice, as the following example code shows. <br>
DeregisterDevice (h);<br>
To use auto-bound channel in port emulation <br>
<br>
Set the channel member of PORTEMUPortParams to RFCOMM_CHANNEL_MULTIPLE. <br>
PORTEMUPortParams pp;<br>
memset (&amp;pp, 0, sizeof(pp));<br>
pp.channel = RFCOMM_CHANNEL_MULTIPLE;<br>
Create the virtual COM port by using RegisterDevice and CreateFile. <br>
Determine the assigned RFCOMM channel by using the IOCTL, IOCTL_BLUETOOTH_GET_RFCOMM_CHANNEL. <br>
DWORD port = 0;<br>
DWORD dwSizeOut = 0;<br>
HANDLE hFile;<br>
if (!DeviceIoControl (hFile, IOCTL_BLUETOOTH_GET_RFCOMM_CHANNEL, NULL, 0, &amp;port, sizeof(port), &amp;dwSizeOut, NULL)) <br>
{<br>
&nbsp; // Perform error handling<br>
}<br>
The following functions are supported: <br>
<br>
ClearCommError <br>
EscapeCommFunction <br>
GetCommMask <br>
GetCommModemStatus <br>
GetCommProperties <br>
GetCommState <br>
GetCommTimeouts <br>
SetCommMask <br>
SetCommState <br>
SetCommTimeouts <br>
WaitCommEvent</div></div>

  <footer>
    
    <p><a class="comments-link" href="/blog/2007/02/13/1/#disqus_thread" data-disqus-identifier="http://ifq.github.com/blog/2007/02/13/1/">View comments &raquo;</a></p>
    
    
    
  </footer>


    </article>
  
    










    <article >
      
  <header>
    <h1 class="entry-title">

<a href="/blog/2007/02/12/2/">回家了,网通了,继续了~</a>

</h1>

    
      <p class="meta">
        








  


<time datetime="2007-02-12T00:00:00+08:00" pubdate data-updated="true">Feb 12<span>th</span>, 2007</time>
         &bull; <a rel="bookmark" href="/blog/2007/02/12/2/">Permalink</a>
      </p>
    
  </header>

<div class="entry-content"><div>&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;  前天才回家,今天把网接通了,2M/s的下载速度,就一个字:爽!终于不用和宿舍人挤在100k的带宽上了.回来赶上了一个聚会,但是还错过了一个重要聚会,可惜啊.<br>
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;  任务还是很重,心里总是有点事情的感觉.还是得加油啊!</div></div>

  <footer>
    
    <p><a class="comments-link" href="/blog/2007/02/12/2/#disqus_thread" data-disqus-identifier="http://ifq.github.com/blog/2007/02/12/2/">View comments &raquo;</a></p>
    
    
    
  </footer>


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/27/">&larr; Older</a>
    
    <a href="/archives/">Blog Archives</a>
    
    <a class="next" href="/blog/page/25/">Newer &rarr;</a>
    
  </div>
</div>

<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2012/11/10/ps-memo/">802.11协议节电学习memo</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/10/29/upgrade-octopress/">更新octopress博客系统后的笔记</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/10/28/roubo-workbench-5/">Roubo Style Workbench - 靖天木工桌 5/5</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/10/20/roubo-workbench-4/">Roubo Style Workbench - 靖天木工桌 4/5</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/10/09/roubo-workbench-3/">Roubo Style Workbench - 靖天木工桌 3/5</a>
      </li>
    
  </ul>
</section>










<section>
  <h1>Categories</h1>
  <ul id="category-list">
    <li><a href='/blog/categories/binary'>binary (9)</a></li><li><a href='/blog/categories/cool'>cool (1)</a></li><li><a href='/blog/categories/handtool'>handtool (4)</a></li><li><a href='/blog/categories/ieee802-11'>IEEE802.11 (1)</a></li><li><a href='/blog/categories/legacy'>legacy (279)</a></li><li><a href='/blog/categories/octopress'>octopress (2)</a></li><li><a href='/blog/categories/orgmode'>orgmode (2)</a></li><li><a href='/blog/categories/other'>other (1)</a></li><li><a href='/blog/categories/woodworking'>woodworking (10)</a></li><li><a href='/blog/categories/workbench'>workbench (5)</a></li>
  </ul>
</section>

<section>
  <h1>Recent Comments</h1>
  <div id="dsq-recentcomments" class="dsq-widget"><script type="text/javascript" src="http://disqus.com/forums/ifq/recent_comments_widget.js?hide_avatars=1"></script></div>
</section>

<section>
<iframe frameborder="0" scrolling="no" src="http://show.v.t.qq.com/index.php?c=show&a=index&n=Jingtianwang&w=0&h=548&fl=2&l=30&o=25&co=4&cs=C0C0C0_F2F2F2_4E5959_99A4AD" width="100%" height="548"></iframe>
</section>


  
</aside>

<center><a href="http://www.freedomain.co.nr/" title="Free Domain Name"><img src="http://ecozooa.imdrv.net/soof62.gif" alt="Free Domain Name" style="width:88px;height:31px;border:0;" /></a><a href='http://www.urlfan.com/?via=b' ><img src='http://i.urlfan.com/?r=7ec49' border=0></a><a href="https://plus.google.com/115086707443303900229" rel="publisher">在 Google+ 上关注我们</a></center>

    </div>
  </div>
  <footer role="contentinfo">Copyright &copy; 2012

    靖天
    (一个热爱木工的软件工程师)


</footer>
  <script src="/javascripts/slash.js"></script>


<script type="text/javascript">
      var disqus_shortname = 'ifq';
			var disqus_developer = '0';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>






</body>
</html>
